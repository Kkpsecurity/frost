# Student Activity Tracking - Deployment Configuration
# This file contains settings for the deployment scripts

# Deployment Paths
SOURCE_PATH="\\develc\webroot\frost-rclark"
STAGING_PATH="\\atlas\webroot\frost-staging"
PRODUCTION_PATH="\\atlas\webroot\frost-production"

# Git Hook Auto-Deployment Settings
GIT_HOOK_ENABLED=true
AUTO_DEPLOY_BRANCHES=("main" "master" "copilot/*")
SKIP_DEPLOY_KEYWORDS=("[skip deploy]" "[no deploy]")
AUTO_BACKUP_ON_DEPLOY=true

# Backup Settings
DEFAULT_BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_BASE_PATH="backups/student-activity-tracking"

# Deployment Settings
DEFAULT_ENVIRONMENT="staging"
REQUIRE_CONFIRMATION=true
LOG_RETENTION_DAYS=90

# Files to Deploy (Format: RelativePath|IsCritical|Description)
DEPLOYMENT_FILES=(
    "database/migrations/2025_09_30_000000_create_student_activities_table.php|true|Database migration for student activities table"
    "app/Models/StudentActivity.php|true|Eloquent model for student activities"
    "app/Services/StudentActivityService.php|true|Service class for activity tracking business logic"
    "app/Http/Middleware/TrackStudentActivity.php|true|Middleware for automatic activity tracking"
    "app/Http/Controllers/Api/StudentActivityController.php|true|API controller for activity tracking endpoints"
    "routes/api/student_activity_routes.php|true|API routes for student activity tracking"
    "docs/architecture/student-activity-tracking.md|false|System architecture documentation"
    "docs/deployment/student-activity-tracking-implementation.md|false|Implementation guide"
    "docs/deployment/staging-deployment-guide.md|false|Staging deployment guide"
    "KKP/scripts/deploy-student-activity-tracking.ps1|false|PowerShell deployment script"
    "KKP/scripts/deploy-student-activity-tracking.sh|false|Bash deployment script"
    "KKP/scripts/deploy-launcher.bat|false|Deployment launcher batch file"
    "KKP/scripts/deploy-config.conf|false|Deployment configuration file"
)

# Post-Deployment Configuration Tasks
POST_DEPLOY_TASKS=(
    "app/Http/Kernel.php|Add middleware to 'web' group|\\App\\Http\\Middleware\\TrackStudentActivity::class"
    "routes/api.php|Include activity routes|require __DIR__ . '/api/student_activity_routes.php';"
    "app/Providers/AppServiceProvider.php|Register service in register() method|\$this->app->singleton(\\App\\Services\\StudentActivityService::class);"
)

# Laravel Artisan Commands to Run Post-Deployment
ARTISAN_COMMANDS=(
    "migrate|Run database migration"
    "route:clear|Clear route cache"
    "config:clear|Clear configuration cache"
    "cache:clear|Clear application cache"
)

# Validation Settings
VALIDATE_LARAVEL_APP=true
VALIDATE_COMPOSER_JSON=true
VALIDATE_ARTISAN_COMMANDS=true
CHECK_PREREQUISITES=true

# Environment-Specific Settings
[staging]
MAINTENANCE_MODE=false
RUN_TESTS=false
CLEAR_LOGS=false

[production]
MAINTENANCE_MODE=true
RUN_TESTS=true
CLEAR_LOGS=true
BACKUP_ENABLED=true
REQUIRE_CONFIRMATION=true

# Notification Settings (Optional)
SLACK_WEBHOOK_URL=""
EMAIL_NOTIFICATIONS=""
TEAMS_WEBHOOK_URL=""

# Security Settings
EXCLUDE_SENSITIVE_FILES=true
SENSITIVE_FILE_PATTERNS=(
    "*.env*"
    "*.key"
    "*password*"
    "*secret*"
    "*/logs/*"
    "*/cache/*"
    "*/sessions/*"
)

# Performance Settings
PARALLEL_COPY=false
COMPRESSION_ENABLED=false
VERIFY_CHECKSUMS=false

# Debug Settings
DEFAULT_VERBOSE=false
LOG_LEVEL="INFO"  # DEBUG, INFO, WARN, ERROR
PRESERVE_TEMP_FILES=false
